{% extends 'layout.html' %}

{% block body %}
<script src="static/js/pdfmake.min.js"></script>
<script src="static/js/vfs_fonts.js"></script>
<div class="card mx-auto border-dark mb-3">
    <div class="card-body">
        <h4 class="card-title">Welcome {{session.username}}!</h4>
        <div class="row">
            <div class="col-sm">
                <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="location.href='/add_recipe';">Add Recipe</button>
                </div>
            </div>
            <div class="col-sm">
                 <form class="form-inline" role="form">
                    <div class="btn-group col" role="group">
                        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="recipeList()">Shuffle Recipes</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="createList()">Get Shopping List</a>
                    </div>
                    <div class="input-group mb3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="sel1">Number of days to shop for: </label>
                        </div>
                        <select class="form-control" id="sel1">
                            {% for i in range(14) %}
                                <option>{{i+1}}</option>
                                {% endfor %}
                        </select>
                    </div>
                </form>
            </div>
        </div> <!end of top row>
        <div class="row">
            <div class="col-sm">
                <hr>
                <h6>Your Current Recipe Bank:</h6>
                <div class="pre-scrollable list-group" style="overflow-x:hidden;" id="recipebank" role="tablist">
                    {% for name in names %}
                    <form class="form-inline">
                        <div class="row list-group-item list-group-item-action"  style="background-color: #F8F8F8;" id="recipe{{loop.index}}">
                             <td id="recipe{{ loop.index }}">{{loop.index}}.  {{name}}</td>
                             <div class="btn-group float-right" role="group">
                                <button type="button" id="{{ name }}_edit"   onclick="editRecipe('{{ name }}')" style="background-color:  #abb2b9;" class="btn btn-primary btn-sm">Edit</button>
                                <button type="button" id="{{ name }}_delete" onclick="deleteRecipe('{{ name }}')" style="background-color:  #f1948a;" class="btn btn-danger btn-sm">Delete</button>
                             </div>
                        </div>
                     </form>
                     {% endfor %}
                </div>
            </div>
            <div class="col-sm">
                <hr>
                <h6>Your Current Meal Plan:</h6>
                <div class="pre-scrollable list-group" style="overflow-x:hidden;" id="mealplan" role="tablist">
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/static/js/recipe_list.js"></script>
<script>
    var recipeBankNames = {{ names|tojson }};
    var recipeBankDesc = {{ descriptions|tojson }};
    var recipedict = {{ recipedict|tojson }};
</script>
{% endblock%}